<!DOCTYPE html>
<html>
    <head th:replace = "~{layout/plantilla :: head}">
    </head>
    <body>

        <header th:replace="~{layout/plantilla :: menu}" />
        <div class="container"></br>

            <section >
                <h1 >SALIDAS</h1>
            </section></br>
            
            
            
            <main th:if="${salidas!=null && !salidas.empty}">

                <table border="1" class="table">
                    <thead class="table-warning" >
                        <tr>
                            <th class="align-middle" th:text="Nombre"></th>
                            <th class="align-middle" th:text="Fecha"></th>
                            <th class="align-middle" th:text="Horario"></th>
                            <th class="align-middle" th:text="Ubicacion"></th>
                            <th class="align-middle" th:text="Paradita"></th>
                            <th class="align-middle" th:text="Castillo"></th>
                            <th class="align-middle" th:text="Acciones" th:if="${!ocultar && ocultar2}"></th>
                            <!--<th th:text="Inscribirseasalida"></th>-->
                            <th class="align-middle" th:if="${ocultar && !ocultar2}">Inscribirse Salida</th>
                            <th class="align-middle" th:if="${ocultar && !ocultar2}">Inscribirse transporte Salida</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="salida : ${salidas}">
                            <td class="align-middle" th:text="${salida.nombreEvento}"></td>
                            <td class="align-middle" th:text="${salida.fechaEvento}"></td>
                            <td class="align-middle" th:text="${salida.horario}"></td>
                            <td class="align-middle" th:text="${salida.ubicacionEvento}"></td>
                            <td class="align-middle" > <input type="checkbox" th:checked="${salida.paradita}" disabled="disabled"/> </td>
                            <td class="align-middle" >
                                <a th:href="@{/detalleSalida/}+${salida.idevento}">
                                    <button class="btn btn-outline-warning" >Detalle</button>
                                </a>
                            </td>                
                            <td class="align-middle" th:if="${!ocultar && ocultar2}">
                                <a th:href="@{/pasarIDaCastillo/}+${salida.idevento}">
                                    <button class="btn btn-outline-warning">Consultar Castillo</button>
                                </a>

                                <a th:href="@{/detalleAsistentesSalida/}+${salida.idevento}">
                                    <button class="btn btn-outline-warning">Detalle Asistentes</button>
                                </a>

                                <a th:href="@{/editarAsistencia/}+${salida.idevento}">
                                    <button class="btn btn-outline-warning">Pasar Lista</button>
                                </a>

                                <a th:href="@{/editarSalida/}+${salida.idevento}">
                                    <button class="btn btn-warning"><i class="fa-solid fa-pencil"></i></button>
                                </a>
                                <a th:href="@{/eliminarSalida/}+${salida.idevento}">
                                    <button class="btn btn-danger"><i class="fa-solid fa-trash-can" style="color: #ffffff;"></i></button>
                                </a>
                            </td>

                            <td class="align-middle" th:if="${ocultar && !ocultar2}"> 
                                <a th:href="@{/inscribirseSalidaITransporte/}+${salida.idevento}">
                                    <button th:disabled="${inscrito}" th:onclick="this.disabled=true;" class="btn btn-outline-warning">Inscribirse</button>
                                </a>
                            </td>

                            <td class="align-middle" th:if="${ocultar && !ocultar2}"> 
                                <a th:href="@{/inscribirseTransporte/}+${salida.idevento}">
                                    <button class="btn btn-outline-warning" >Inscribirse</button>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <div th:if="${mensaje}" th:text="${mensaje}"></div>

            </main><br>
            <!-- <input type="checkbox" th:checked="${salida.asistenciaSalida}"/> <input type="checkbox" th:checked="${salida.asistenciaTransporte}" />-->
            <div>
                <a href="/formularioSalida">
                    <button th:if="${!ocultar && ocultar2}" th:text="CrearSalida" class="btn btn-outline-warning" ></button>
                </a>
            </div>

            <div th:if="${salidas==null || salidas.empty}">
                <!-- Mostrem missatge-->
                No hi ha salidas a la llista.
                <div>
                    <a href="/formularioSalida">
                        <button th:if="${!ocultar && ocultar2}" th:text="CrearSalida" class="btn btn-outline-warning" ></button>
                    </a>
                </div>
            </div>
        </div>
    </body>
</html>
